<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Base64 API</title>
    <style>
        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #212529;
        }

        .center-screen {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .container {
            text-align: center;
            padding: 2rem;
            background-color: white;
            border-radius: 8px;
            max-width: 600px;
            width: 90%;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        img.logo {
            display: block;
            margin: 0 auto 1rem auto;
            width: 70px;
            height: 70px;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        p.lead {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            color: #555;
        }

        .button-group {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .btn {
            padding: 0.75rem 2rem;
            font-size: 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .btn-primary {
            background-color: #0d6efd;
            color: white;
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid #6c757d;
            color: #6c757d;
        }

        .btn-danger {
            background-color: #dc3545;
            color: white;
        }

        /* Authenticated user section */
        .dashboard {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }

        .left-panel {
            min-width: 250px;
            text-align: center;
        }

        .status {
            border: 2px solid #28a745;
            color: #28a745;
            padding: 5px 10px;
            border-radius: 12px;
            display: inline-block;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .avatar {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 2px solid black;
            margin-bottom: 15px;
        }

        .info {
            font-size: 1rem;
            margin-bottom: 10px;
        }

        .btn-logout, .btn-reset {
            display: block;
            margin: 10px auto;
            padding: 10px 20px;
            font-weight: bold;
            border-radius: 10px;
            cursor: pointer;
            border: 2px solid;
            background-color: transparent;
        }

        .btn-logout {
            color: #dc3545;
            border-color: #dc3545;
        }

        .btn-reset {
            color: #0d6efd;
            border-color: #0d6efd;
        }

        .right-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .section {
            border: 2px solid black;
            border-radius: 20px;
            padding: 20px;
        }

        .section h3 {
            margin-top: 0;
            font-size: 1.1rem;
        }

        .api-key-container {
            display: flex;
            align-items: center;
            gap: 10px;
            background: white;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 10px;
            overflow: auto;
        }

        .api-key {
            flex: 1;
            font-size: 1.2rem;
            letter-spacing: 3px;
        }

        .copy-btn {
            cursor: pointer;
            border: none;
            background: none;
            font-size: 1.2rem;
        }

        .example input {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            margin-bottom: 15px;
            border: 1px solid #888;
            border-radius: 10px;
        }

        .output-box {
            border: 1px solid black;
            border-radius: 15px;
            padding: 10px;
            height: 80px;
            background-color: #fff;
            overflow: auto;
        }
    </style>
</head>

<body>  
    {% if current_user %}
    <div class="dashboard">
        <!-- LEFT PANEL -->
        <div class="left-panel">
            <div class="status">Status: <span style="color: green;">Active</span></div>
            <img class="avatar" src="{{ current_user.avatar_url }}" alt="Avatar">
            <div class="info">Hello {{ current_user.username }}<br>ID: {{ current_user.id }}</div>
            <a href="/logout"><button class="btn-logout">LOGOUT</button></a>
            <a href="/reset"><button class="btn-reset">RESET API KEY</button></a>
        </div>

        <!-- RIGHT PANEL -->
        <div class="right-panel">
            <div class="section">
                <h3>YOUR API KEY IS:</h3>
                <div class="api-key-container">
                    <span class="api-key">{{ current_user.api_key|default('â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢') }}</span>
                    <button class="copy-btn" onclick="copyAPIKey()">ðŸ“‹</button>
                </div>
            </div>

            <div class="section example">
                <h3>EXAMPLE:</h3>
                <label><strong>Input:</strong></label>
                <input type="text" placeholder="Enter your text here:">
                <label><strong>Url:</strong></label>
                <input type="text" placeholder="click to copy generated url" readonly>
                <div><strong>output:</strong></div>
                <div class="output-box"></div>
            </div>
        </div>
    </div>
    {% else %}
    <div class="center-screen">
        <div class="container">
            <img class="logo" src="assets/logo.png" alt="Logo">
            <h1>Base 64 API (Unofficial)</h1>
            <p class="lead">
                Simple and powerful API service that lets you encode text based data using Base64.
                Easily manage your API key, view usage stats, and test endpoints with your own dashboard.
                Login with Discord to get started instantly.
            </p>
            <div class="button-group">
                <a href="{{oath_uri}}">
                    <button class="btn btn-primary">Login With Discord</button>
                </a>
            </div>
        </div>
    </div>
    {% endif %}

</body>

</html>